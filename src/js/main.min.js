// preloader 
window.addEventListener("load",()=>{let e=document.getElementById("preloader");e&&(e.classList.add("hidden"),e.addEventListener("transitionend",()=>{e.style.display="none"}))});
// burger menu
const menu=document.querySelector(".navigation"),menuItems=document.querySelectorAll(".menu__link"),hamburger=document.querySelector(".hamburger"),closeIcon=document.querySelector(".closeIcon"),menuIcon=document.querySelector(".menuIcon");function toggleMenu(){menu.classList.contains("showNavigation")?(menu.classList.remove("showNavigation"),closeIcon.style.display="none",menuIcon.style.display="block"):(menu.classList.add("showNavigation"),closeIcon.style.display="block",menuIcon.style.display="none")}hamburger.addEventListener("click",toggleMenu),menuItems.forEach(function(e){e.addEventListener("click",toggleMenu)});
// lang 
let currentLanguage=localStorage.getItem("language")||"uk";function switchLanguage(t){currentLanguage=t,localStorage.setItem("language",t),document.querySelectorAll(".lang-btn").forEach(e=>{e.classList.remove("active"),e.getAttribute("data-lang")===t&&e.classList.add("active")}),document.querySelectorAll("[data-en][data-uk]").forEach(e=>{let a=e.getAttribute("data-"+t);a&&(e.innerHTML=a)}),["placeholder","value","aria-label","title"].forEach(e=>{document.querySelectorAll(`[data-${t}-${e}]`).forEach(a=>{let n=a.getAttribute(`data-${t}-${e}`);n&&a.setAttribute(e,n)})}),document.documentElement.setAttribute("lang",t),console.log("Language switched to:",t)}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".lang-btn").forEach(t=>{t.addEventListener("click",function(){let t=this.getAttribute("data-lang");switchLanguage(t)})}),switchLanguage(currentLanguage)});
// modal
document.addEventListener("DOMContentLoaded",()=>{function e(){document.documentElement.classList.add("modal-open"),document.body.classList.add("modal-open")}function t(){document.documentElement.classList.remove("modal-open"),document.body.classList.remove("modal-open")}document.querySelectorAll(".open-modal").forEach(t=>{t.addEventListener("click",()=>{let l=t.getAttribute("data-target"),n=document.getElementById(l);n&&(n.classList.remove("hide"),n.classList.add("show"),n.style.display="block",e())})}),document.querySelectorAll(".modal .close").forEach(e=>{e.addEventListener("click",()=>{let l=e.closest(".modal");l&&(l.classList.remove("show"),l.classList.add("hide"),setTimeout(()=>{l.style.display="none",t()},400))})}),window.addEventListener("click",e=>{e.target.classList.contains("modal")&&(e.target.classList.remove("show"),e.target.classList.add("hide"),setTimeout(()=>{e.target.style.display="none",t()},400))}),document.querySelectorAll(".form-board").forEach(e=>{let t=e.querySelector(".radio-owner"),l=e.querySelector(".radio-manager"),n=e.querySelector(".employees-wrapper");t&&l&&n&&(t.addEventListener("change",()=>{t.checked&&(n.style.display="block")}),l.addEventListener("change",()=>{l.checked&&(n.style.display="none")}))}),document.querySelectorAll(".modal form").forEach(e=>{e.addEventListener("submit",function(t){t.preventDefault();let l=document.documentElement.lang||"uk",n=[],a=e.querySelector('[name="name"]');validator.isEmpty(a.value.trim())&&n.push("uk"===l?"Будь ласка, введіть ім’я та прізвище":"Please enter your full name");let s=e.querySelector('[name="phone"]'),o=s.value.trim();if(validator.isEmpty(o))n.push("uk"===l?"Поле телефону є обов'язковим":"Phone field is required");else{let r=o.replace(/\D/g,"");9!==r.length&&n.push("uk"===l?"Номер телефону має містити 9 цифр":"Phone number must contain 9 digits")}let i=e.querySelector('[name="email"]');validator.isEmail(i.value.trim())||n.push("uk"===l?"Невірний email":"Invalid email");let d=e.querySelector('[name="city"]');validator.isEmpty(d.value.trim())&&n.push("uk"===l?"Будь ласка, введіть місто":"Please enter your city");let c=e.querySelector('[name="consent"]');if(c.checked||n.push("uk"===l?"Потрібно дати згоду":"Consent is required"),n.length>0){alert(n.join("\n"));return}let u=window.intlTelInputGlobals.getInstance(s),m=u.getNumber(),p=new FormData(e);p.set("phone",m),fetch(e.action,{method:e.method,body:p,headers:{Accept:"application/json"}}).then(t=>{if(t.ok){let n=e.querySelector('button[type="submit"]'),a=n.getAttribute(`data-${l}-success`)||"Заявка відправлена ✓";n.textContent=a,e.reset()}else showAlertByLang(l,"error")}).catch(()=>{showAlertByLang(l,"connectionError")})})})}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('input[name="phone"]').forEach(e=>{window.intlTelInput(e,{initialCountry:"ua",preferredCountries:["ua"],separateDialCode:!0,showFlags:!0,utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/js/utils.js"})})});
// carousel 
const slides=document.getElementById("carouselSlides");slides.innerHTML+=slides.innerHTML;let scrollPosition=0;const speed=.7;function step(){(scrollPosition+=.7)>=slides.scrollWidth/2&&(scrollPosition=0),slides.style.transform=`translateX(${-scrollPosition}px)`,requestAnimationFrame(step)}step();
// animation 
const sections=document.querySelectorAll("section"),observer=new IntersectionObserver(s=>{s.forEach(s=>{s.isIntersecting&&s.target.classList.add("visible")})},{threshold:.1});sections.forEach((s,e)=>{s.closest("header")||s.closest("footer")||(s.classList.add("section-animate"),0===e?setTimeout(()=>{s.classList.add("first-visible")},200):observer.observe(s))});
// timer 
function animateNumber(t,e,n=1500){let i=0,s=e/(n/16),o=()=>{(i+=s)>=e?t.textContent=`${e}+`:(t.textContent=`${Math.floor(i)}+`,requestAnimationFrame(o))};requestAnimationFrame(o)}const statisticsSection=document.querySelector(".statistics");let numbersAnimated=!1;if(statisticsSection){let t=new IntersectionObserver(t=>{t.forEach(t=>{if(t.isIntersecting&&!numbersAnimated){let e=statisticsSection.querySelectorAll(".information__content-num");e.forEach(t=>{let e=parseInt(t.textContent.replace(/\D/g,""),10);animateNumber(t,e,1800)}),numbersAnimated=!0}})},{threshold:.2});t.observe(statisticsSection)}