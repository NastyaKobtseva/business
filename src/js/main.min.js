// preloader 
window.addEventListener("load",()=>{let e=document.getElementById("preloader");e&&(e.classList.add("hidden"),e.addEventListener("transitionend",()=>{e.style.display="none"}))});
// burger menu
const menu=document.querySelector(".navigation"),menuItems=document.querySelectorAll(".menu__link"),hamburger=document.querySelector(".hamburger"),closeIcon=document.querySelector(".closeIcon"),menuIcon=document.querySelector(".menuIcon");function toggleMenu(){menu.classList.contains("showNavigation")?(menu.classList.remove("showNavigation"),closeIcon.style.display="none",menuIcon.style.display="block"):(menu.classList.add("showNavigation"),closeIcon.style.display="block",menuIcon.style.display="none")}hamburger.addEventListener("click",toggleMenu),menuItems.forEach(function(e){e.addEventListener("click",toggleMenu)});
// lang 
let currentLanguage=localStorage.getItem("language")||"uk";function switchLanguage(t){currentLanguage=t,localStorage.setItem("language",t),document.querySelectorAll(".lang-btn").forEach(e=>{e.classList.remove("active"),e.getAttribute("data-lang")===t&&e.classList.add("active")}),document.querySelectorAll("[data-en][data-uk]").forEach(e=>{let a=e.getAttribute("data-"+t);a&&(e.innerHTML=a)}),["placeholder","value","aria-label","title"].forEach(e=>{document.querySelectorAll(`[data-${t}-${e}]`).forEach(a=>{let n=a.getAttribute(`data-${t}-${e}`);n&&a.setAttribute(e,n)})}),document.documentElement.setAttribute("lang",t),console.log("Language switched to:",t)}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".lang-btn").forEach(t=>{t.addEventListener("click",function(){let t=this.getAttribute("data-lang");switchLanguage(t)})}),switchLanguage(currentLanguage)});
// modal
document.addEventListener("DOMContentLoaded",()=>{let e=0;function t(){e=window.pageYOffset||document.documentElement.scrollTop,document.body.classList.add("modal-open"),document.body.style.top=`-${e}px`;let t=window.innerWidth-document.documentElement.clientWidth;t>0&&(document.body.style.paddingRight=`${t}px`)}function o(){document.body.classList.remove("modal-open"),document.body.style.top="",document.body.style.paddingRight="",window.scrollTo(0,e)}document.querySelectorAll(".open-modal").forEach(e=>{e.addEventListener("click",()=>{let o=e.getAttribute("data-target"),l=document.getElementById(o);l&&(l.classList.remove("hide"),l.classList.add("show"),l.style.display="block",t())})}),document.querySelectorAll(".modal .close").forEach(e=>{e.addEventListener("click",()=>{let t=e.closest(".modal");t&&(t.classList.remove("show"),t.classList.add("hide"),setTimeout(()=>{t.style.display="none",o()},400))})}),window.addEventListener("click",e=>{e.target.classList.contains("modal")&&(e.target.classList.remove("show"),e.target.classList.add("hide"),setTimeout(()=>{e.target.style.display="none",o()},400))}),document.querySelectorAll(".form-board").forEach(e=>{let t=e.querySelector(".radio-owner"),o=e.querySelector(".radio-manager"),l=e.querySelector(".employees-wrapper");t&&o&&l&&(t.addEventListener("change",()=>{t.checked&&(l.style.display="block")}),o.addEventListener("change",()=>{o.checked&&(l.style.display="none")}))}),document.querySelectorAll(".modal form").forEach(e=>{e.addEventListener("submit",function(o){if(o.preventDefault(),e.checkValidity()){let l=new FormData(e);fetch(e.action,{method:e.method,body:l,headers:{Accept:"application/json"}}).then(o=>{if(o.ok){let l=document.documentElement.lang||"uk",r=e.querySelector('button[type="submit"]'),n=r.getAttribute(`data-${l}-success`)||"Заявка відправлена ✓";r.textContent=n,r.style.color="white",e.reset();let a=e.querySelector(".employees-wrapper");a&&(a.style.display="none")}else t(document.documentElement.lang||"uk","error")}).catch(()=>{t(document.documentElement.lang||"uk","connectionError")})}else e.reportValidity()});function t(e,t){let o={uk:{error:`Щось пішло не так. Спробуйте ще раз.`,connectionError:`Сталася помилка з’єднання. Спробуйте пізніше.`},en:{error:"Something went wrong. Please try again.",connectionError:"Connection error occurred. Please try later."}};alert(o[e]?.[t]||o.uk[t])}})});
// carousel 
const slides=document.getElementById("carouselSlides");slides.innerHTML+=slides.innerHTML;let scrollPosition=0;const speed=.7;function step(){(scrollPosition+=.7)>=slides.scrollWidth/2&&(scrollPosition=0),slides.style.transform=`translateX(${-scrollPosition}px)`,requestAnimationFrame(step)}step();
// animation 
const sections=document.querySelectorAll("section"),observer=new IntersectionObserver(s=>{s.forEach(s=>{s.isIntersecting&&s.target.classList.add("visible")})},{threshold:.1});sections.forEach((s,e)=>{s.closest("header")||s.closest("footer")||(s.classList.add("section-animate"),0===e?setTimeout(()=>{s.classList.add("first-visible")},200):observer.observe(s))});
// timer 
function animateNumber(t,e,n=1500){let i=0,s=e/(n/16),o=()=>{(i+=s)>=e?t.textContent=`${e}+`:(t.textContent=`${Math.floor(i)}+`,requestAnimationFrame(o))};requestAnimationFrame(o)}const statisticsSection=document.querySelector(".statistics");let numbersAnimated=!1;if(statisticsSection){let t=new IntersectionObserver(t=>{t.forEach(t=>{if(t.isIntersecting&&!numbersAnimated){let e=statisticsSection.querySelectorAll(".information__content-num");e.forEach(t=>{let e=parseInt(t.textContent.replace(/\D/g,""),10);animateNumber(t,e,1800)}),numbersAnimated=!0}})},{threshold:.2});t.observe(statisticsSection)}